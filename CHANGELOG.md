# Changelog

## [3.0.0] - 2024-11-09

### üéâ –ù–æ–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - PWM Daemon

**MAJOR UPDATE:** –ü—ä–ª–Ω–∞ –ø—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ —Å daemon –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞!

### –î–æ–±–∞–≤–µ–Ω–æ
- **PWM Daemon** –∑–∞ —Ö–æ—Å—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∞ (systemd service)
- HTTP REST API –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ PWM
- –ß–∏—Å—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –º–µ–∂–¥—É daemon (root) –∏ addon (–±–µ–∑ –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏)
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∏–µ–Ω—Ç–∏ –º–æ–≥–∞—Ç –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç –µ–¥–∏–Ω daemon
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è —á—Ä–µ–∑ install.sh —Å–∫—Ä–∏–ø—Ç
- –ü—ä–ª–Ω–∞ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü—Ä–æ–º–µ–Ω–µ–Ω–æ
- **BREAKING:** –ò–∑–∏—Å–∫–≤–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ pwm-daemon –Ω–∞ —Ö–æ—Å—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∞
- Addon –≤–µ—á–µ –∫–æ–º—É–Ω–∏–∫–∏—Ä–∞ —á—Ä–µ–∑ HTTP –≤–º–µ—Å—Ç–æ –¥–∏—Ä–µ–∫—Ç–µ–Ω sysfs –¥–æ—Å—Ç—ä–ø
- –ü—Ä–µ–º–∞—Ö–Ω–∞—Ç–∏ –≤—Å–∏—á–∫–∏ hardware –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –æ—Ç addon
- –ü–æ-–ø—Ä–æ—Å—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞ addon
- –ü–æ-–¥–æ–±—Ä–∞ –∏–∑–æ–ª–∞—Ü–∏—è –∏ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Host System (Debian)
‚îú‚îÄ pwm-daemon (systemd service)
‚îÇ  ‚îú‚îÄ Root –ø—Ä–∞–≤–∞
‚îÇ  ‚îú‚îÄ Hardware PWM –¥–æ—Å—Ç—ä–ø
‚îÇ  ‚îî‚îÄ HTTP API –Ω–∞ –ø–æ—Ä—Ç 9000
‚îÇ
HAOS Container
‚îú‚îÄ PWM LED Controller addon
‚îÇ  ‚îú‚îÄ HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ  ‚îú‚îÄ –ë–µ–∑ hardware –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏
‚îÇ  ‚îî‚îÄ host_network: true
```

### API Endpoints

- `POST /init` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ PWM
- `POST /duty` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ duty cycle
- `POST /enable` - –í–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ PWM
- `POST /disable` - –ò–∑–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ PWM
- `GET /status` - –°—Ç–∞—Ç—É—Å –Ω–∞ –≤—Å–∏—á–∫–∏ PWM
- `GET /status/{pin}` - –°—Ç–∞—Ç—É—Å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω GPIO

### –ú–∏–≥—Ä–∞—Ü–∏—è –æ—Ç v2.x

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ pwm-daemon –Ω–∞ —Ö–æ—Å—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∞:
   ```bash
   cd host-daemon/
   sudo ./install.sh
   ```

2. –û–±–Ω–æ–≤–µ—Ç–µ addon –¥–æ v3.0.0

3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π—Ç–µ daemon_host –∏ daemon_port (–æ–±–∏–∫–Ω–æ–≤–µ–Ω–æ –Ω–µ –µ –Ω—É–∂–Ω–æ)

4. –°—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ addon

### –ü—Ä–µ–¥–∏–º—Å—Ç–≤–∞

‚úì –ß–∏—Å—Ç–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –æ—Ç–≥–æ–≤–æ—Ä–Ω–æ—Å—Ç–∏  
‚úì –ü–æ-–¥–æ–±—Ä–∞ —Å–∏–≥—É—Ä–Ω–æ—Å—Ç  
‚úì –ú–Ω–æ–∂–µ—Å—Ç–≤–æ addon-–∏ –º–æ–≥–∞—Ç –¥–∞ —Å–ø–æ–¥–µ–ª—è—Ç daemon  
‚úì –õ–µ—Å–Ω–∞ –ø–æ–¥–¥—Ä—ä–∂–∫–∞ –∏ debugging  
‚úì Daemon —Ä–∞–±–æ—Ç–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç HAOS  

## [2.1.0] - 2024-11-09

### –û–ø–∏—Ç —Å gpiod
- –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ libgpiod –ø–æ–¥—Ö–æ–¥
- –£—Å—Ç–∞–Ω–æ–≤–µ–Ω–æ: Software PWM –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –¥–æ 15 kHz
- –ù–µ –ø–æ–¥—Ö–æ–¥—è—â –∑–∞ 26 kHz –∏–∑–∏—Å–∫–≤–∞–Ω–µ

## [2.0.0] - 2024-11-09

### –û–ø–∏—Ç —Å pigpio
- –ü—ä–ª–Ω–∞ –ø—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∑–∞ pigpio daemon
- –£—Å—Ç–∞–Ω–æ–≤–µ–Ω–æ: pigpio –Ω–µ –ø–æ–¥–¥—ä—Ä–∂–∞ Raspberry Pi 5
- Rev code b04170 –Ω–µ —Å–µ —Ä–∞–∑–ø–æ–∑–Ω–∞–≤–∞

## [1.0.x] - –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∏ –≤–µ—Ä—Å–∏–∏

### [1.0.10] - 2024-11-09
- –û–ø–∏—Ç –∑–∞ `full_access: true`
- Read-only filesystem –ø—Ä–æ–±–ª–µ–º–∏

### [1.0.9] - 2024-11-09
- –û–ø–∏—Ç –∑–∞ `map: sys:rw`

### [1.0.8] - 2024-11-09
- –î–æ–±–∞–≤–µ–Ω–∏ privileged –ø—Ä–∞–≤–∞

### [1.0.7] - 2024-11-09
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–∏ –æ–ø—Ü–∏–∏
- –ü–æ–¥–æ–±—Ä–µ–Ω–æ –ª–æ–≥–≤–∞–Ω–µ
- Graceful shutdown

### [1.0.6] - –ü—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–∞ –≤–µ—Ä—Å–∏—è
- –ë–∞–∑–æ–≤–∞ PWM —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç —á—Ä–µ–∑ sysfs
- Hardware PWM –Ω–∞ GPIO 12
- Raspberry Pi 5 –ø–æ–¥–¥—Ä—ä–∂–∫–∞
